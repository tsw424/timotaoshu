webpackJsonp([14],{253:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(437),r=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(a,t,function(){return i[t]})}(o);var n=e(510),s=e.n(n),u=e(4),l=u(r.a,s.a,!1,null,null,null);l.options.__file="src\\views\\type\\authorList.vue",a.default=l.exports},278:function(t,a,e){t.exports={default:e(279),__esModule:!0}},279:function(t,a,e){e(280),t.exports=e(0).Object.assign},280:function(t,a,e){var i=e(8);i(i.S+i.F,"Object",{assign:e(281)})},281:function(t,a,e){"use strict";var i=e(26),r=e(54),o=e(34),n=e(33),s=e(94),u=Object.assign;t.exports=!u||e(20)(function(){var t={},a={},e=Symbol(),i="abcdefghijklmnopqrst";return t[e]=7,i.split("").forEach(function(t){a[t]=t}),7!=u({},t)[e]||Object.keys(u({},a)).join("")!=i})?function(t,a){for(var e=n(t),u=arguments.length,l=1,c=r.f,p=o.f;u>l;)for(var h,f=s(arguments[l++]),d=c?i(f).concat(c(f)):i(f),m=d.length,g=0;m>g;)p.call(f,h=d[g++])&&(e[h]=f[h]);return e}:u},437:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var r=e(278),o=i(r),n=e(16),s=i(n);a.default={name:"author-list",data:function(){var t=this;return{loading:!1,columns:[{title:"爬了该作者多少书",key:"count(author)"},{title:"作者",key:"author"},{title:"操作",render:function(a,e){return a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){t.$router.push("/home?author="+e.row.author),a.stopPropagation(),a.preventDefault()}}},"跳转")}}],params:{limit:null,page:null},total:1,authorList:[]}},computed:{},methods:{getAuthorList:function(t){var a=this;if(!this.loading){t>0&&(this.params.page=t);var e={params:{page:this.params.page,limit:this.params.limit}};this.loading=!0,this.$router.replace({path:"/type/authorlist",query:(0,o.default)({},e.params)}),s.default.post.type.authorList(e).then(function(t){a.loading=!1,a.authorList=t.authorList,a.total=t.count}).catch(function(t){a.loading=!1})}},onClickUpdate:function(){var t=this;if(!this.loading){var a={params:{page:this.params.page,limit:this.params.limit}};this.loading=!0,s.default.post.type.updateAuthorList(a).then(function(a){t.loading=!1,t.authorList=a.authorList,t.total=a.count}).catch(function(a){t.loading=!1})}}},components:{},created:function(){},mounted:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){var t=parseInt(this.$route.query.page)||1,a=parseInt(this.$route.query.limit)||10;this.params.page!=t||this.params.limit!=a?(this.params.page!=t&&(this.params.page=t),this.params.limit!=t&&(this.params.limit=a),this.getAuthorList()):this.$router.replace({path:"/type/authorlist",query:(0,o.default)({},this.params)})},deactivated:function(){}}},510:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Layout",[e("Card",[e("Row",[e("Col",{staticStyle:{"text-align":"left"},attrs:{span:"24"}},[e("Button",{attrs:{type:"primary"},on:{click:t.onClickUpdate}},[t._v("更新作者分类")])],1)],1)],1),t._v(" "),e("Card",[e("Table",{ref:"table",attrs:{border:"","highlight-row":"",loading:t.loading,columns:t.columns,data:t.authorList}})],1),t._v(" "),e("Card",{attrs:{shadow:""}},[e("Page",{attrs:{current:t.params.page,"page-size":t.params.limit,total:t.total,"show-total":"","show-elevator":""},on:{"on-change":t.getAuthorList}})],1)],1)},r=[];i._withStripped=!0;var o={render:i,staticRenderFns:r};a.default=o}});